server:
  port: 8080

spring:
  application:
    name: webhook-service

webhook:
  retry:
    max-attempts: 5
    initial-delay-ms: 1000
    multiplier: 2.0

  schemas:
    "c.s.v1.p.cr":
      handlers:
        - fetchPdfHandler
        - storeNs3Handler
        - callModuleCHandler
      retry:
        enabled: true
        strategy: backoff
        retry-on:
          - com.example.webhook.handlers.FetchPdfHandler$PdfFetchException
          - com.example.webhook.handlers.StoreNs3Handler$StorageException
          - com.example.webhook.handlers.CallModuleCHandler$ModuleCException

    "c.s.v1.p.cr.jitter":
      handlers:
        - fetchPdfHandler
        - storeNs3Handler
        - callModuleCHandler
      retry:
        enabled: true
        strategy: jitter
        retry-on:
          - com.example.webhook.handlers.FetchPdfHandler$PdfFetchException

    "c.s.v1.no.retry":
      handlers:
        - fetchPdfHandler
        - storeNs3Handler
        - callModuleCHandler

security:
  webhook:
    expected-token: "my-secure-token"
    required-headers:
      - "X-Auth-Token"
      - "X-Request-Id"

logging:
  level:
    root: INFO
    com.example.webhook: DEBUG
